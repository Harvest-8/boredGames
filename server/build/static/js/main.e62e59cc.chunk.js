(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},143:function(e,t){},146:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n,o=a(0),c=a.n(o),s=a(20),r=a.n(s),i=(a(89),a(90),a(18)),l=a(4),m=a(5),u=a(7),p=a(6),h=(a(43),a(3)),d=a(8),v=a(16),f=a.n(v),g=function(e,t){return function(a){a({type:"LOADING_UI"}),f.a.post("/api/login",e).then((function(e){var n="Bearer ".concat(e.data.token);localStorage.setItem("FBIdToken",n),f.a.defaults.headers.common.Authorization=n,a(E()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){console.log(e),a({type:"SET_ERRORS",payload:e.response.data})}))}},b=function(e,t){return function(a){a({type:"LOADING_UI"}),f.a.post("/api/signup",e).then((function(e){var n="Bearer ".concat(e.data.token);localStorage.setItem("FBIdToken",n),f.a.defaults.headers.common.Authorization=n,a(E()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){console.log(e),a({type:"SET_ERRORS",payload:e.response.data})}))}},E=function(){return function(e){f.a.get("/api/user").then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){console.log(e)}))}},k=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",errors:{}},e}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){this.props.UI.loading;var e=this.state.errors;return c.a.createElement("div",{className:"login"},c.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},c.a.createElement("div",{className:e.email||e.general?"error field":"field"},c.a.createElement("input",{value:this.state.email,id:"email",type:"email",name:"email",className:"input",placeholder:" ",onChange:this.handleChange}),c.a.createElement("label",{htmlFor:"email",className:"label"},"Email")),c.a.createElement("p",{className:"errors error"},e.email),c.a.createElement("div",{className:e.password||e.general?"error field":"field"},c.a.createElement("input",{value:this.state.password,id:"password",type:"password",name:"password",className:"input",placeholder:" ",onChange:this.handleChange}),c.a.createElement("label",{htmlFor:"password",className:"label"},"Password")),c.a.createElement("p",{className:"errors error"},e.password),c.a.createElement("p",{className:"errors error"},e.general),c.a.createElement("button",{type:"submit",className:"submit"},"Submit"),c.a.createElement("p",{className:"authSwitch"},"don't have an account?"," ",c.a.createElement(h.b,{to:"/signup",className:"footerLink"},"Signup"))))}}]),a}(o.Component),y=Object(d.b)((function(e){return{user:e.user,UI:e.UI}}),{loginUser:g})(k),N=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword,handle:e.state.handle};e.props.signupUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",confirmPassword:"",handle:"",loading:!1,errors:{}},e}return Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){this.props.classes;var e=this.state,t=(e.loading,e.errors);return c.a.createElement("div",{className:"signup"},c.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},c.a.createElement("div",{className:t.email||t.general?"error field":"field"},c.a.createElement("input",{value:this.state.email,id:"email",type:"email",name:"email",className:"input",placeholder:" ",onChange:this.handleChange}),c.a.createElement("label",{htmlFor:"email",className:"label"},"Email")),c.a.createElement("p",{className:"errors error"},t.email),c.a.createElement("div",Object(i.a)({className:"field"},"className",t.password||t.general?"error field":"field"),c.a.createElement("input",{value:this.state.password,id:"password",type:"password",name:"password",className:"input",placeholder:" ",onChange:this.handleChange}),c.a.createElement("label",{htmlFor:"password",className:"label"},"Password")),c.a.createElement("p",{className:"errors error"},t.password),c.a.createElement("div",{className:t.confirmPassword||t.general?"error field":"field"},c.a.createElement("input",{value:this.state.confirmPassword,id:"confirmPassword",type:"password",name:"confirmPassword",className:"input",placeholder:" ",onChange:this.handleChange}),c.a.createElement("label",{htmlFor:"password",className:"label"},"Confirm Password")),c.a.createElement("p",{className:"errors error"},t.confirmPassword),c.a.createElement("div",{className:t.handle||t.general?"error field":"field"},c.a.createElement("input",{value:this.state.handle,id:"handle",type:"text",name:"handle",className:"input",placeholder:" ",onChange:this.handleChange}),c.a.createElement("label",{htmlFor:"username",className:"label"},"Username")),c.a.createElement("p",{className:"errors error"},t.handle),c.a.createElement("p",{className:"errors error"},t.general),c.a.createElement("button",{type:"submit",className:"submit"},"Submit"),c.a.createElement("p",{className:"authSwitch"},"already have an accout?"," ",c.a.createElement(h.b,{to:"/login",className:"footerLink"},"Login"))))}}]),a}(o.Component),S=Object(d.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:b})(N),O=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,"Home")}}]),a}(o.Component),j=(a(112),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return!0===this.props.user.authenticated?c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(h.b,{to:"/games",className:"link"},"Games")),c.a.createElement("li",null,c.a.createElement(h.b,{to:"/",className:"link"},"Home")),c.a.createElement("li",null,c.a.createElement(h.b,{to:"/profile",className:"link"},"Profile")))):c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(h.b,{to:"/login",className:"link"},"Login")),c.a.createElement("li",null,c.a.createElement(h.b,{to:"/",className:"link"},"Home")),c.a.createElement("li",null,c.a.createElement(h.b,{to:"/signup",className:"link"},"Signup"))))}}]),a}(o.Component)),w=Object(d.b)((function(e){return{user:e.user}}))(j),P=(a(113),a(67)),M=a.n(P),R=a(38),C=a.n(R),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(h.b,{to:"/games/chess",className:"game-link"},c.a.createElement("div",{className:"selector"},c.a.createElement("img",{src:M.a,alt:"chess",className:"selector-img"}),c.a.createElement("h3",null,"Chess"))))}}]),a}(o.Component),F=a(83),U=a(68),T=a.n(U),x=a(69),A=a.n(x),_=a(70),D=a.n(_),B=a(71),L=a.n(B),H=a(72),W=a.n(H),G=a(73),q=a.n(G),z=a(74),J=a.n(z),K=a(75),Q=a.n(K),V=a(76),Y=a.n(V),$=a(77),X=a.n($),Z=a(78),ee=a.n(Z),te=a(79),ae=a.n(te),ne=a(22),oe=(a(146),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.black?"silver":"white";return c.a.createElement(ne.c,{droppableId:"".concat(this.props.location)},(function(a,n){return c.a.createElement("div",{onClick:e.props.onMove,id:e.props.location,className:"chessPanel",style:{backgroundColor:t}},c.a.createElement("div",{ref:a.innerRef,style:{backgroundColor:n.isDraggingOver?"rgba(52,183,235, 0.7)":"transparent",position:"absolute",height:"100%",width:"100%"}},a.placeholder),c.a.createElement("div",{className:"peice-container"},e.props.children))}))}}]),a}(o.Component)),ce=(a(37),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement(ne.b,{key:this.props.id,draggableId:""+this.props.id,index:this.props.id},(function(t){return c.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{className:"draggable-area"}),c.a.createElement("img",{onClick:e.props.getPeice,id:e.props.id,src:e.props.img,className:"peice",alt:"peice"}))}))}}]),a}(o.Component)),se=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.currentFen;if(null===e)e=["11111111","11111111","11111111","11111111","11111111","11111111","11111111","11111111"];else{(e=e.split("/"))[7]=e[7].split(" ")[0];for(var t=0;t<8;t++){var a,n=Object(F.a)(e[t]);try{for(n.s();!(a=n.n()).done;){var o=a.value,s=parseInt(o);if(isNaN(s))0;else{e[t]=e[t].replace(o,"1".repeat(s)),s}}}catch(p){n.e(p)}finally{n.f()}}}for(var r=[],i=0;i<8;i++)for(var l=0;l<8;l++){var m=(l+i)%2===1,u=parseInt(e[i][l]);isNaN(u)?"P"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:ae.a}))):"p"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:q.a}))):"R"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:X.a}))):"r"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:L.a}))):"N"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:ee.a}))):"n"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:W.a}))):"B"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:J.a}))):"b"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:T.a}))):"Q"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:Y.a}))):"q"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:D.a}))):"K"===e[i][l]?r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:Q.a}))):"k"===e[i][l]&&r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m},c.a.createElement(ce,{id:l+8*i,getPeice:this.props.getPeice,img:A.a}))):r.push(c.a.createElement(oe,{key:l+8*i,onMove:this.props.onMove,location:"".concat(l,"-").concat(i),black:m}))}return c.a.createElement(ne.a,{onDragEnd:this.props.handleDrag},c.a.createElement("div",{className:"chessboard ".concat(this.props.player)},r))}}]),a}(o.Component),re=a(147),ie=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).chess=null,n.state={getPeice:null,targetPanel:null,targetPeice:null,peicePanel:null,currentFen:null,user:null,joinedRoom:!1,joinedMatch:!1,matchRoom:null,player:null,loading:!1,promo:!1,prevMove:null,lost:!1,won:!1,draw:!1,inCheck:!1},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.user.credentials.handle!==e.user.credentials.handle){n.emit("disconnected");var t=this.props.user.credentials.handle;console.log("".concat(t," joining ").concat("chess")),n.emit("joinRoom",{user:t,room:"chess"}),this.setState({user:this.props.user.credentials.handle})}}},{key:"componentDidMount",value:function(){var e=this;if(n=C()(),this.props.user.credentials.handle){var t=this.props.user.credentials.handle;console.log("".concat(t," joining ").concat("chess")),n.emit("joinRoom",{user:t,room:"chess"}),this.setState({user:this.props.user.credentials.handle})}n.on("joinedRoom",(function(t){e.setState({joinedRoom:t}),console.log("joined ".concat(t))})),n.on("loading",(function(t){e.setState({loading:t})})),n.on("joinedMatch",(function(t){e.chess=new re,e.setState({currentFen:e.chess.fen()}),e.setState({joinedMatch:!0}),e.setState({matchRoom:t}),console.log("joined match ".concat(t))})),n.on("player",(function(t){e.setState({player:t})})),n.on("sendMove",(function(t){e.onlineMove(t),e.gameOver(e.chess),e.check(e.chess)}))}},{key:"componentWillUnmount",value:function(){n.emit("disconnected")}},{key:"onlineMove",value:function(e){this.chess.load(e),this.setState({currentFen:e}),console.log("moved")}},{key:"formatMove",value:function(e,t){return(e=e.split("-"))[0]=parseInt(e[0]),e[1]=parseInt(e[1]),(t=t.split("-"))[0]=parseInt(t[0]),t[1]=parseInt(t[1]),{fromPan:e,coords:t}}},{key:"checkMove",value:function(e){var t=e.split(" ");return"black"===this.state.player?"w"!==t[1]:"b"!==t[1]}},{key:"gameOver",value:function(e){if(e.in_checkmate()){var t=e.fen().split(" ")[1];"w"===t?"white"===this.state.player?this.setState({lost:!0}):this.setState({won:!0}):"b"===t&&("black"===this.state.player?this.setState({lost:!0}):this.setState({won:!0}))}else(e.in_draw()||e.in_stalemate())&&this.setState({draw:!0})}},{key:"check",value:function(e){var t=this;e.in_check()&&(this.setState({inCheck:!0}),setTimeout((function(){t.setState({inCheck:!1})}),2500))}},{key:"checkPromo",value:function(e){var t=this.chess.get("".concat(["a","b","c","d","e","f","g","h"][e[0]]).concat(["8","7","6","5","4","3","2","1"][e[1]]));return(1===e[1]&&"p"===t.type&&"w"===t.color||6===e[1]&&"p"===t.type&&"b"===t.color)&&(this.setState({promo:!0}),!0)}},{key:"getPeice",value:function(e){var t,a,o=["a","b","c","d","e","f","g","h"],c=["8","7","6","5","4","3","2","1"];if(t=e.target.id,a=e.target.parentNode.parentNode.parentNode.id,t=parseInt(t),null!==this.state.targetPeice){var s=this.formatMove(this.state.peicePanel,a),r=s.fromPan,i=s.coords;this.checkPromo(r)?null!==this.state.promotionTo&&(this.chess.move({from:"".concat(o[r[0]]).concat(c[r[1]]),to:"".concat(o[i[0]]).concat(c[i[1]])}),this.setState({prevMove:["".concat(o[r[0]]).concat(c[r[1]]),"".concat(o[i[0]]).concat(c[i[1]])]})):(this.chess.move({from:"".concat(o[r[0]]).concat(c[r[1]]),to:"".concat(o[i[0]]).concat(c[i[1]])}),this.setState({prevMove:["".concat(o[r[0]]).concat(c[r[1]]),"".concat(o[i[0]]).concat(c[i[1]])]}));var l=this.chess.fen(),m=this.state.matchRoom;this.state.currentFen!==this.chess.fen()&&n.emit("sendMove",{currentmove:l,matchRoom:m}),this.setState({currentFen:this.chess.fen()}),this.setState({targetPeice:t}),this.setState({peicePanel:a})}else this.setState({targetPeice:t}),this.setState({peicePanel:a});this.gameOver(this.chess),this.check(this.chess)}},{key:"render",value:function(){var e=this,t=["a","b","c","d","e","f","g","h"],a=["8","7","6","5","4","3","2","1"];return this.state.joinedMatch?c.a.createElement("div",null,c.a.createElement(se,{getPeice:this.getPeice,player:this.state.player,onMove:function(o){var c;if(c="string"===typeof o?o:o.target.parentNode.id,e.setState({targetPanel:c}),null!==e.state.targetPeice){var s=e.formatMove(e.state.peicePanel,c),r=s.fromPan,i=s.coords;if(e.checkMove(e.chess.fen()))if(e.checkPromo(r),e.chess.move({from:"".concat(t[r[0]]).concat(a[r[1]]),to:"".concat(t[i[0]]).concat(a[i[1]])}),e.setState({prevMove:["".concat(t[r[0]]).concat(a[r[1]]),"".concat(t[i[0]]).concat(a[i[1]])]}),e.state.currentFen===e.chess.fen());else{var l=e.chess.fen(),m=e.state.matchRoom;e.state.currentFen!==e.chess.fen()&&n.emit("sendMove",{currentmove:l,matchRoom:m}),e.setState({currentFen:e.chess.fen()})}e.setState({targetPeice:null}),e.setState({peicePanel:null})}e.gameOver(e.chess),e.check(e.chess)},handleDrag:function(o){var c=o.destination,s=o.source;o.draggableId;if(c&&(c.droppableId!==s.droppableId||c.index!==s.index)){var r=e.formatMove(s.droppableId,c.droppableId),i=r.fromPan,l=r.coords;if(e.checkMove(e.chess.fen()))if(e.checkPromo(i)?null!==e.state.promotionTo&&(e.chess.move({from:"".concat(t[i[0]]).concat(a[i[1]]),to:"".concat(t[l[0]]).concat(a[l[1]])}),e.setState({prevMove:["".concat(t[i[0]]).concat(a[i[1]]),"".concat(t[l[0]]).concat(a[l[1]])]})):(e.chess.move({from:"".concat(t[i[0]]).concat(a[i[1]]),to:"".concat(t[l[0]]).concat(a[l[1]])}),e.setState({prevMove:["".concat(t[i[0]]).concat(a[i[1]]),"".concat(t[l[0]]).concat(a[l[1]])]})),e.state.currentFen===e.chess.fen());else{var m=e.chess.fen(),u=e.state.matchRoom;e.state.currentFen!==e.chess.fen()&&n.emit("sendMove",{currentmove:m,matchRoom:u}),e.setState({currentFen:e.chess.fen()})}e.gameOver(e.chess),e.check(e.chess)}},currentFen:this.state.currentFen}),this.state.promo&&c.a.createElement("div",{className:"promotion"},c.a.createElement("button",{className:"btn",onClick:function(){e.chess.move({from:e.state.prevMove[0],to:e.state.prevMove[1],promotion:"q"}),e.setState({promo:!1});var t=e.chess.fen(),a=e.state.matchRoom;n.emit("sendMove",{currentmove:t,matchRoom:a}),e.setState({currentFen:e.chess.fen()})}},"Queen"),c.a.createElement("button",{className:"btn",onClick:function(){e.chess.move({from:e.state.prevMove[0],to:e.state.prevMove[1],promotion:"r"}),e.setState({promo:!1});var t=e.chess.fen(),a=e.state.matchRoom;n.emit("sendMove",{currentmove:t,matchRoom:a}),e.setState({currentFen:e.chess.fen()})}},"Rook"),c.a.createElement("button",{className:"btn",onClick:function(){e.chess.move({from:e.state.prevMove[0],to:e.state.prevMove[1],promotion:"b"}),e.setState({promo:!1});var t=e.chess.fen(),a=e.state.matchRoom;n.emit("sendMove",{currentmove:t,matchRoom:a}),e.setState({currentFen:e.chess.fen()})}},"Bishop"),c.a.createElement("button",{className:"btn",onClick:function(){e.chess.move({from:e.state.prevMove[0],to:e.state.prevMove[1],promotion:"n"}),e.setState({promo:!1});var t=e.chess.fen(),a=e.state.matchRoom;n.emit("sendMove",{currentmove:t,matchRoom:a}),e.setState({currentFen:e.chess.fen()})}},"Knight")),this.state.won&&c.a.createElement("div",{className:"endScreen"},c.a.createElement("h3",null,"You Won"),c.a.createElement(h.b,{to:"/games",className:"btn"},"Back to games")),this.state.draw&&c.a.createElement("div",{className:"endScreen"},c.a.createElement("h3",null,"Draw"),c.a.createElement(h.b,{to:"/games",className:"btn"},"Back to games")),this.state.lost&&c.a.createElement("div",{className:"endScreen"},c.a.createElement("h3",null,"You Lost"),c.a.createElement(h.b,{to:"/games",className:"btn"},"Back to games")),this.state.inCheck&&c.a.createElement("h1",{className:"alert"},"Check")):c.a.createElement("div",null,this.state.user&&c.a.createElement("button",{className:"btn",onClick:function(){if(e.state.joinedRoom){var t=e.state.user;n.emit("waiting",{user:t,room:"chess"})}}},"Find Match"),this.state.loading&&c.a.createElement("h3",null,"Loading..."))}}]),a}(o.Component),le=Object(d.b)((function(e){return{user:e.user}}))(ie),me=a(27),ue=a(2),pe=Object(d.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(me.a)(e,["component","authenticated"]);return c.a.createElement(ue.b,Object.assign({},n,{render:function(e){return!0===a?c.a.createElement(ue.a,{to:"/"}):c.a.createElement(t,e)}}))})),he=Object(d.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(me.a)(e,["component","authenticated"]);return c.a.createElement(ue.b,Object.assign({},n,{render:function(e){return!1===a?c.a.createElement(ue.a,{to:"/login"}):c.a.createElement(t,e)}}))})),de=a(80),ve=a.n(de),fe=a(13),ge=a(81),be=a(15),Ee={authenticated:!1,credentials:{},notifications:[]},ke=a(82),ye=a.n(ke),Ne={loading:!1,errors:null},Se=[ge.a],Oe=Object(fe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(be.a)(Object(be.a)({},e),{},{authenticated:!0});case"SET_UNAUTHENTICATED":return Ee;case"SET_USER":return Object(be.a)({authenticated:!0},t.payload);default:return e}},data:ye.a,UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(be.a)(Object(be.a)({},e),{},{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(be.a)(Object(be.a)({},e),{},{loading:!1,errors:null});case"LOADING_UI":return Object(be.a)(Object(be.a)({},e),{},{loading:!0});default:return e}}}),je=Object(fe.e)(Oe,{},Object(fe.d)(fe.a.apply(void 0,Se)));f.a.defaults.baseURL="https://europe-west1-boredgames-28c8e.cloudfunctions.net";var we=localStorage.FBIdToken;we&&(1e3*ve()(we).exp<Date.now()?(je.dispatch((function(e){localStorage.removeItem("FBIdToken"),delete f.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"})})),window.location.href="/login"):(je.dispatch({type:"SET_AUTHENTICATED"}),f.a.defaults.headers.common.Authorization=we,je.dispatch(E())));var Pe=function(){return c.a.createElement(d.a,{store:je},c.a.createElement(h.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(w,null),c.a.createElement("div",{className:"container"},c.a.createElement(ue.b,{exact:!0,path:"/",component:O}),c.a.createElement(pe,{exact:!0,path:"/login",component:y}),c.a.createElement(pe,{exact:!0,path:"/signup",component:S}),c.a.createElement(he,{exact:!0,path:"/games",component:I}),c.a.createElement(he,{path:"/games/chess",component:le})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,a){},43:function(e,t,a){},67:function(e,t,a){e.exports=a.p+"static/media/chess.248b0159.PNG"},68:function(e,t,a){e.exports=a.p+"static/media/bb.8011bf44.svg"},69:function(e,t,a){e.exports=a.p+"static/media/bk.d8979832.svg"},70:function(e,t,a){e.exports=a.p+"static/media/bq.ef6e2590.svg"},71:function(e,t,a){e.exports=a.p+"static/media/br.08c3972b.svg"},72:function(e,t,a){e.exports=a.p+"static/media/bn.daa3de25.svg"},73:function(e,t,a){e.exports=a.p+"static/media/bp.d1670065.svg"},74:function(e,t,a){e.exports=a.p+"static/media/wb.1fe99b0c.svg"},75:function(e,t,a){e.exports=a.p+"static/media/wk.d0c846df.svg"},76:function(e,t,a){e.exports=a.p+"static/media/wq.1198ca3c.svg"},77:function(e,t,a){e.exports=a.p+"static/media/wr.02fb1599.svg"},78:function(e,t,a){e.exports=a.p+"static/media/wn.07bc214c.svg"},79:function(e,t,a){e.exports=a.p+"static/media/wp.87aea985.svg"},82:function(e,t){},84:function(e,t,a){e.exports=a(150)},89:function(e,t,a){},90:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.e62e59cc.chunk.js.map